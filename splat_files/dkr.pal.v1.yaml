name: Diddy Kong Racing (European (basic spec.))
sha1: dd5d64dd140cb7aa28404fa35abdcaba33c29260
options:
  basename: dkr.pal.v1
  target_path: baseroms/baserom.pal.v1.z64
  base_path: ../
  compiler: IDO
  find_file_boundaries: True
  header_encoding: ASCII
  platform: n64
  undefined_funcs_auto_path: undefined_funcs_auto.pal.v1.txt
  undefined_syms_auto_path: undefined_syms_auto.pal.v1.txt
  symbol_addrs_path: symbol_addrs.pal.v1.txt
  asm_path: asm_pal_v1
  src_path: src_pal_v1
  build_path: build_pal_v1
  asset_path: assets_pal_v1
  section_order: [".text", ".data", ".rodata", ".bss"]
  migrate_rodata_to_functions: False
  hasm_in_src_path: True
segments:
  - name: header
    type: header
    start: 0x0

  - name: boot
    type: bin
    start: 0x40

  - name: entry
    type: code
    start: 0x1000
    vram: 0x80000400
    subsegments:
      - [0x1000, hasm, hasm/entrypoint]

  - name: main
    type: code
    start: 0x1050
    vram: 0x80000450
    follows_vram: entry
    bss_size: 0x41490
    subsegments:
      - [0x1050, c, audio]
      - [0x3260, c, audiomgr]
      - [0x3D60, c, audiosfx]
      - [0x5740, c, audio_vehicle]
      - [0x8C40, c, audio_spatial]
      - [0xB310, c, lib/src/audio/mips1/seqplayer]
      - [0xBC20, c, objects]
      - [0x251F0, hasm, hasm/unknown_0251F0]
      - [0x255E0, c, tracks]
      - [0x31D30, hasm, hasm/collision]
      - [0x32760, c, lights]
      - [0x348C0, c, object_functions]
      - [0x43920, c, racer]
      - [0x5CEF0, c, vehicle_tricky]
      - [0x5DCD0, c, vehicle_bluey]
      - [0x5E420, c, vehicle_smokey]
      - [0x5F0C0, c, vehicle_bubbler]
      - [0x5F690, c, vehicle_wizpig]
      - [0x5FF10, c, vehicle_rocket]
      - [0x60450, c, object_models]
      - [0x62930, hasm, hasm/unknown_062930]
      - [0x62E90, c, lib/src/audio/mips1/csplayer]
      - [0x64690, c, lib/src/audio/mips1/unknown_064690]
      - [0x646F0, c, lib/src/audio/mips1/seqchannel]
      - [0x647A0, c, lib/src/audio/mips1/cspsetfadein]
      - [0x64800, c, lib/src/audio/mips1/cspgetfadein]
      - [0x64830, c, lib/src/audio/mips1/reverb]
      - [0x65550, c, lib/src/audio/mips1/drvrnew]
      - [0x65D30, c, lib/src/audio/mips1/synthesizer]
      - [0x66460, c, lib/src/audio/mips1/synallocfx]
      - [0x66500, c, lib/src/audio/mips1/auxbus]
      - [0x66720, c, lib/src/audio/mips1/synsetpan]
      - [0x667D0, c, lib/src/audio/mips1/synstartvoiceparam]
      - [0x66940, c, main]
      - [0x66AA0, c, camera]
      - [0x6AD00, c, controller_dkr]
      - [0x6B2B0, c, game]
      - [0x6CF30, c, thread3_main]
      - [0x70110, hasm, hasm/math_util]
      - [0x71730, c, memory]
      - [0x72930, c, lib/src/io/motor]
      - [0x72E50, c, save_data]
      - [0x777A0, c, asset_loading]
      - [0x77C50, c, borders]
      - [0x78050, c, rcp_dkr]
      - [0x79F50, c, lib/src/sc/sched]
      - [0x7AED0, c, set_rsp_segment]
      - [0x7AF10, c, video]
      - [0x7B870, c, textures_sprites]
      - [0x80240, c, screen_asset]
      - [0x80500, c, menu]
      - [0x9F980, c, game_ui]
      - [0xABE80, c, weather]
      - [0xAEF00, c, particles]
      - [0xB53A0, c, unused_string]
      - [0xB55D0, c, printf]
      - [0xB7BD0, c, lib/src/debug/assert]
      - [0xB7BE0, c, thread0_epc]
      - [0xB89A0, hasm, hasm/get_stack_pointer]
      - [0xB89B0, c, waves]
      - [0xC0E00, c, fade_transition]
      - [0xC3680, c, game_text]
      - [0xC4890, c, font]
      - [0xC6C90, c, lib/src/io/pimgr]
      - [0xC6E00, c, gzip]
      - [0xC7550, hasm, hasm/gzip_asm]
      - [0xC7FD0, c, lib/src/io/leointerrupt]
      - [0xC7FE0, c, thread30_track_loading]
      - [0xC81F0, c, lib/src/audio/heapinit]
      - [0xC8230, c, lib/src/audio/bnkf]
      - [0xC8480, c, lib/src/audio/heapalloc]
      - [0xC84E0, c, lib/src/audio/cspsetvol]
      - [0xC8520, c, lib/src/audio/cspgettempo]
      - [0xC8560, hasm, lib/src/os/getcount]
      - [0xC8570, c, lib/src/audio/cspsetpan]
      - [0xC85D0, c, lib/src/audio/cspsetchlvol]
      - [0xC8630, c, lib/src/audio/cspgetchlvol]
      - [0xC8650, c, lib/src/audio/seqpgetfxmix]
      - [0xC8670, c, lib/src/audio/cspsettempo]
      - [0xC86E0, c, lib/src/audio/cspgetstate]
      - [0xC86F0, c, lib/src/audio/cspsetbank]
      - [0xC8730, c, lib/src/audio/cseq]
      - [0xC91F0, c, lib/src/audio/cspsetseq]
      - [0xC9230, c, lib/src/audio/cspplay]
      - [0xC9260, c, lib/src/audio/cspstop]
      - [0xC9290, c, lib/src/io/aisetfreq]
      - [0xC93F0, c, lib/src/audio/sl]
      - [0xC94B0, c, lib/src/os/createmesgqueue]
      - [0xC94E0, c, lib/src/os/createthread]
      - [0xC9630, c, lib/src/os/startthread]
      - [0xC9780, c, lib/src/os/stopthread]
      - [0xC9840, c, lib/src/os/recvmesg]
      - [0xC9980, c, lib/src/os/virtualtophysical]
      - [0xC9A00, c, lib/src/io/aisetnextbuf]
      - [0xC9AB0, c, lib/src/io/aigetlen]
      - [0xC9AC0, c, lib/src/os/sendmesg]
      - [0xC9C10, c, lib/src/io/pidma]
      - [0xC9D20, c, lib/src/audio/event]
      - [0xCA060, c, lib/src/audio/synaddplayer]
      - [0xCA0B0, c, lib/src/audio/synallocvoice]
      - [0xCA2E0, c, lib/src/audio/synsetvol]
      - [0xCA380, c, lib/src/audio/synstartvoice]
      - [0xCA410, c, lib/src/audio/synsetpitch]
      - [0xCA4A0, c, lib/src/audio/synsetfxmix]
      - [0xCA540, c, lib/src/audio/synstopvoice]
      - [0xCA5C0, c, lib/src/audio/synfreevoice]
      - [0xCA670, c, lib/src/audio/cents2ratio]
      - [0xCA6C0, hasm, lib/src/os/setintmask]
      - [0xCA760, hasm, lib/src/gu/sqrtf]
      - [0xCA770, c, lib/src/audio/synsetpriority]
      - [0xCA780, pad] #0x40 bytes of zeroes, could be parameters.s from libultra, but that's 0x60 bytes.
      - [0xCA7C0, c, lib/src/libc/llcvt]
      - [0xCA9D0, c, lib/src/libc/rmonPrintf]
      - [0xCAA30, hasm, lib/src/libc/bcopy]
      - [0xCAD40, c, lib/src/audio/filter]
      - [0xCAD60, c, lib/src/audio/env]
      - [0xCC1D0, c, lib/src/audio/load]
      - [0xCCD20, c, lib/src/audio/resample]
      - [0xCD020, c, lib/src/audio/mainbus]
      - [0xCD170, c, lib/src/audio/save]
      - [0xCD230, c, lib/src/os/initialize]
      - [0xCD4D0, c, lib/src/os/setthreadpri]
      - [0xCD5B0, c, lib/src/gu/perspective]
      - [0xCD840, c, lib/src/os/seteventmesg]
      - [0xCD8B0, c, lib/src/io/controller]
      - [0xCDC70, c, lib/src/io/contreaddata]
      - [0xCDED0, c, lib/src/io/spsetstat]
      - [0xCDEE0, c, lib/src/io/dpsetstat]
      - [0xCDEF0, c, lib/src/os/settime]
      - [0xCDF20, c, lib/src/io/pfsisplug]
      - [0xCE290, c, lib/src/io/siacs]
      - [0xCE350, c, lib/src/io/sirawdma]
      - [0xCE400, c, lib/src/io/crc]
      - [0xCE580, c, lib/src/io/contramwrite]
      - [0xCE930, c, lib/src/io/contramread]
      - [0xCECE0, hasm, lib/src/libc/bcmp]
      - [0xCEE00, c, lib/src/libc/string]
      - [0xCEEA0, c, lib/src/io/conteepprobe]
      - [0xCEF10, c, lib/src/io/conteepread]
      - [0xCF210, c, lib/src/io/conteepwrite]
      - [0xCF6F0, c, lib/src/libc/ll]
      - [0xCF9B0, c, lib/src/io/pfsinit]
      - [0xCFB70, c, lib/src/io/pfsreadwritefile]
      - [0xD0070, c, lib/src/io/pfsfreeblocks]
      - [0xD01C0, c, lib/src/io/pfschecker]
      - [0xD0C20, c, lib/src/io/pfsreformat]
      - [0xD1020, c, lib/src/io/pfsnumfiles]
      - [0xD1170, hasm, lib/src/libc/bzero]
      - [0xD1210, c, lib/src/io/pfsfilestate]
      - [0xD1500, c, lib/src/io/pfsdeletefile]
      - [0xD1B10, c, lib/src/io/pfssearchfile]
      - [0xD1CD0, c, lib/src/io/pfsallocatefile]
      - [0xD2480, hasm, lib/src/os/invaldcache]
      - [0xD2530, hasm, lib/src/os/writebackdcacheall]
      - [0xD2560, c, lib/src/io/dpgetstat]
      - [0xD2570, c, lib/src/io/dpsetnextbuf]
      - [0xD2620, c, lib/src/io/vimgr]
      - [0xD2930, c, lib/src/io/visetmode]
      - [0xD29A0, c, lib/src/io/viblack]
      - [0xD2A10, c, lib/src/io/visetevent]
      - [0xD2A80, c, lib/src/io/sptaskyielded]
      - [0xD2B00, c, lib/src/io/vigetcurrframebuf]
      - [0xD2B40, c, lib/src/io/vigetnextframebuf]
      - [0xD2B80, c, lib/src/io/sptask]
      - [0xD2E40, c, lib/src/os/gettime]
      - [0xD2ED0, c, lib/src/io/sptaskyield]
      - [0xD2EF0, c, lib/src/io/visetspecial]
      - [0xD30B0, c, lib/src/io/viswapbuf]
      - [0xD3100, c, lib/src/os/getactivequeue]
      - [0xD3110, c, lib/src/io/piacs]
      - [0xD31D0, c, lib/src/os/getthreadpri]
      - [0xD31F0, hasm, lib/src/os/interrupt]
      - [0xD3230, c, lib/src/io/pirawdma]
      - [0xD3310, c, lib/src/io/epirawdma]
      - [0xD33F0, c, lib/src/io/devmgr]
      - [0xD37A0, c, lib/src/io/vi]
      - [0xD38F0, c, lib/src/audio/syndelete]
      - [0xD3900, c, lib/src/os/thread]
      - [0xD3940, hasm, lib/src/os/exceptasm]
      - [0xD4240, hasm, lib/src/os/probetlb]
      - [0xD4300, c, lib/src/io/ai]
      - [0xD4330, c, lib/src/os/jammesg]
      - [0xD4480, c, lib/src/io/pigetcmdq]
      - [0xD44B0, c, lib/src/audio/copy]
      - [0xD4530, c, lib/src/libc/xprintf]
      - [0xD51F0, hasm, lib/src/os/setsr]
      - [0xD5200, hasm, lib/src/os/getsr]
      - [0xD5210, hasm, lib/src/os/setfpccsr]
      - [0xD5220, c, lib/src/io/sirawread]
      - [0xD5270, c, lib/src/io/sirawwrite]
      - [0xD52C0, hasm, lib/src/os/writebackdcache]
      - [0xD5340, hasm, lib/src/os/invalicache]
      - [0xD53C0, hasm, lib/src/os/maptlbrdb]
      - [0xD5420, c, lib/src/io/pirawread]
      - [0xD5480, c, lib/src/os/sethwinterrupt]
      - [0xD54D0, c, lib/src/gu/mtxutil]
      - [0xD5740, c, lib/src/gu/cosf]
      - [0xD58B0, c, lib/src/gu/sinf]
      - [0xD5A70, c, lib/src/os/settimer]
      - [0xD5B50, c, lib/src/os/timerintr]
      - [0xD5F50, c, lib/src/io/si]
      - [0xD5F80, c, lib/src/io/contpfs]
      - [0xD6CE0, c, lib/src/io/dp]
      - [0xD6D10, c, lib/src/io/vigetcurrcontext]
      - [0xD6D20, c, lib/src/io/viswapcontext]
      - [0xD7080, c, lib/src/io/spgetstat]
      - [0xD7090, c, lib/src/io/spsetpc]
      - [0xD70D0, c, lib/src/io/sprawdma]
      - [0xD7160, c, lib/src/io/sp]
      - [0xD7190, c, lib/src/os/resetglobalintmask]
      - [0xD71F0, c, lib/src/io/epirawwrite]
      - [0xD7240, c, lib/src/os/yieldthread]
      - [0xD7290, c, lib/src/os/destroythread]
      - [0xD7390, c, lib/src/libc/xlitob]
      - [0xD7630, c, lib/src/libc/xldtob]
      - [0xD80F0, hasm, lib/src/os/setcompare]
      - [0xD8100, c, lib/src/libc/ldiv]
      # - [auto, c, memory_pool] #bss only file
      - [0xD8290, textbin, ucode_audio]
      - [0xD9150, textbin, ucode_boot]
      - [0xD9220, textbin, ucode_f3ddkr_dram]
      - [0xDA420, textbin, ucode_f3ddkr_fifo]
      - [0xDB600, textbin, ucode_f3ddkr_xbus]
      - [0xDC800, textbin, ucode_unknown_2]
      - [0xDD2C0, .data, audio]
      - [0xDD310, data, audiomgr]
      - [0xDD340, data, audiosfx]
      - [0xDD360, data, audio_vehicle]
      - [0xDD370, data, audio_spatial]
      - [0xDD380, data, objects]
      - [0xDD500, data, tracks]
      - [0xDD5E0, data, lights]
      - [0xDD600, data, object_functions]
      - [0xDD7E0, data, racer]
      - [0xDDA70, data, vehicle_tricky]
      - [0xDDA90, data, vehicle_bluey]
      - [0xDDAD0, data, vehicle_bubbler]
      - [0xDDAF0, data, vehicle_wizpig]
      - [0xDDB10, data, vehicle_rocket]
      - [0xDDB30, data, object_models]
      - [0xDDB40, data, lib/src/audio/mips1/reverb]
      - [0xDDB50, data, lib/src/audio/mips1/drvrnew]
      - [0xDDCE0, data, lib/src/audio/mips1/synstartvoiceparam]
      - [0xDDCF0, data, camera]
      - [0xDDF90, data, controller_dkr]
      - [0xDDFA0, data, game]
      - [0xDDFD0, data, thread3_main]
      - [0xDE0C0, data, hasm/math_util]
      - [0xDF0D0, data, save_data]
      - [0xDF120, data, rcp_dkr]
      - [0xDF3C0, data, lib/src/sc/sched]
      - [0xDF400, data, video]
      - [0xDF450, data, textures_sprites]
      - [0xE00D0, data, screen_asset]
      - [0xE00E0, data, menu]
      - [0xE2AF0, data, game_ui]
      - [0xE34E0, data, weather]
      - [0xE3930, data, particles]
      - [0xE3B80, data, printf]
      - [0xE3CB0, data, thread0_epc]
      - [0xE3CD0, data, waves]
      - [0xE3E30, data, fade_transition]
      - [0xE4300, data, game_text]
      - [0xE4320, data, font]
      - [0xE43D0, data, lib/src/io/pimgr]
      - [0xE43F0, data, gzip]
      - [0xE4400, data, thread30_track_loading]
      - [0xE4410, data, lib/src/audio/sl]
      - [0xE4420, data, lib/src/io/aisetnextbuf]
      - [0xE4430, data, lib/src/audio/env]
      - [0xE4530, data, lib/src/os/initialize]
      - [0xE4550, data, lib/src/io/controller]
      - [0xE4560, data, lib/src/io/siacs]
      - [0xE4570, data, lib/src/io/vimgr]
      - [0xE4590, data, lib/src/io/vitbl]
      - [0xE5490, data, lib/src/io/piacs]
      - [0xE54A0, data, lib/src/io/vi]
      - [0xE5510, data, lib/src/os/thread]
      - [0xE5530, data, lib/src/os/exceptasm]
      - [0xE5550, data, lib/src/libc/xprintf]
      - [0xE55A0, data, lib/src/os/timerintr]
      - [0xE55B0, data, lib/src/libc/xlitob]
      - [0xE55E0, .rodata, audio]
      - [0xE5680, rodata, audiomgr]
      - [0xE5840, rodata, audiosfx]
      - [0xE5880, rodata, audio_vehicle]
      - [0xE5990, rodata, audio_spatial]
      - [0xE5BC0, rodata, lib/src/audio/mips1/seqplayer]
      - [0xE5BF0, rodata, objects]
      - [0xE6A80, rodata, tracks]
      - [0xE6BF0, rodata, hasm/collision]
      - [0xE6C10, rodata, lights]
      - [0xE6C30, rodata, object_functions]
      - [0xE6F10, rodata, racer]
      - [0xE76A0, rodata, vehicle_tricky]
      - [0xE76C0, rodata, vehicle_bluey]
      - [0xE76E0, rodata, vehicle_smokey]
      - [0xE7730, rodata, vehicle_bubbler]
      - [0xE7740, rodata, vehicle_wizpig]
      - [0xE7790, rodata, vehicle_rocket]
      - [0xE77B0, rodata, object_models]
      - [0xE78B0, rodata, lib/src/audio/mips1/csplayer]
      - [0xE7B00, rodata, lib/src/audio/mips1/reverb]
      - [0xE7B30, rodata, lib/src/audio/mips1/drvrnew]
      - [0xE7B50, rodata, lib/src/audio/mips1/synthesizer]
      - [0xE7B60, rodata, main]
      - [0xE7B90, rodata, camera]
      - [0xE7D40, rodata, thread3_main]
      - [0xE7EA0, rodata, memory]
      - [0xE8220, rodata, save_data]
      - [0xE8490, rodata, lib/src/sc/sched]
      - [0xE8620, rodata, video]
      - [0xE87C0, rodata, textures_sprites]
      - [0xE8920, rodata, screen_asset]
      - [0xE8940, rodata, menu]
      - [0xE92D0, rodata, game_ui]
      - [0xE9480, rodata, weather]
      - [0xE94D0, rodata, particles]
      - [0xE9890, rodata, printf]
      - [0xE9B00, rodata, thread0_epc]
      - [0xE9DF0, rodata, waves]
      - [0xE9F60, rodata, fade_transition]
      - [0xE9FC0, rodata, game_text]
      - [0xE9FF0, rodata, font]
      - [0xEA050, rodata, hasm/gzip_asm]
      - [0xEA140, rodata, lib/src/audio/cseq]
      - [0xEA150, rodata, lib/src/audio/cents2ratio]
      - [0xEA160, rodata, lib/src/os/setintmask]
      - [0xEA1E0, rodata, lib/src/libc/llcvt]
      - [0xEA1F0, rodata, lib/src/audio/env]
      - [0xEA290, rodata, lib/src/audio/resample]
      - [0xEA2D0, rodata, lib/src/gu/perspective]
      - [0xEA2E0, rodata, lib/src/io/devmgr]
      - [0xEA300, rodata, lib/src/os/exceptasm]
      - [0xEA350, rodata, lib/src/libc/xprintf]
      - [0xEA450, rodata, lib/src/gu/cosf]
      - [0xEA4A0, rodata, lib/src/gu/sinf]
      - [0xEA4F0, rodata, lib/src/libc/xldtob]
      - [0xEA550, rodata, lib/src/gu/libm_vals]
      - { start: 0xEA560, type: databin, name: data_audio,       linker_section_order: .rodata }
      - { start: 0xEA830, type: databin, name: data_f3ddkr_dram, linker_section_order: .rodata }
      - { start: 0xEB030, type: databin, name: data_f3ddkr_fifo, linker_section_order: .rodata }
      - { start: 0xEB830, type: databin, name: data_f3ddkr_xbus, linker_section_order: .rodata }
      - { start: 0xEC030, type: databin, name: data_unknown_2,   linker_section_order: .rodata }
      - [0xECBF0, bin, assets]
      - { start: auto, type: .bss, vram: 0x800EBFF0, name: audio }
      - { start: auto, type:  bss, vram: 0x80116020 }

  - type: bin
    start: 0xECBF0
    follows_vram: main
  - [0xC00000]
