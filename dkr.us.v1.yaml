name: Diddy Kong Racing (North America)
sha1: 0cb115d8716dbbc2922fda38e533b9fe63bb9670
options:
  basename: dkr.us.v1
  target_path: baserom.us.v1.z64
  base_path: .
  compiler: IDO
  find_file_boundaries: True
  header_encoding: ASCII
  platform: n64
  undefined_funcs_auto_path: undefined_funcs_auto.us.v1.txt
  undefined_syms_auto_path: undefined_syms_auto.us.v1.txt
  symbol_addrs_path: symbol_addrs.us.v1.txt
  asm_path: asm
  src_path: src
  build_path: build
  asset_path: assets
  #extensions_path: tools/splat_ext
  #mips_abi_float_regs: o32
  section_order: [".text", ".data", ".rodata", ".bss"]
  auto_all_sections: [".data", ".rodata", ".bss"]
  symbol_name_format: $VRAM_$ROM
  #libultra_symbols: True
  #hardware_regs: True
segments:
  - name: header
    type: header
    start: 0x0

  - name: boot
    type: bin
    start: 0x40

  - name: entry
    type: code
    start: 0x1000
    vram: 0x80000400
    subsegments:
      - [0x1000, hasm, entrypoint]

  - name: main
    type: code
    start: 0x1050
    vram: 0x80000450
    follows_vram: entry
    bss_size: 0x41490
    subsegments:
      - [0x1050, asm]
      - [0x3260, asm]
      - [0x5740, asm]
      - [0xB310, asm]
      - [0xBC20, asm]
      - [0x255E0, asm]
      - [0x31D30, asm]
      - [0x32760, asm]
      - [0x348C0, asm]
      - [0x43920, asm]
      - [0x5CEF0, asm]
      - [0x5DCD0, asm]
      - [0x5E420, asm]
      - [0x5F0C0, asm]
      - [0x5F690, asm]
      - [0x60450, asm]
      - [0x62930, asm]
      - [0x62E90, asm]
      - [0x64690, asm]
      - [0x646F0, asm]
      - [0x647A0, asm]
      - [0x64800, asm]
      - [0x64830, asm]
      - [0x65550, asm]
      - [0x65D30, asm]
      - [0x66460, asm]
      - [0x66500, asm]
      - [0x667D0, asm]
      - [0x66AA0, asm]
      - [0x6B2B0, asm]
      - [0x71730, asm]
      - [0x72E50, asm]
      - [0x777A0, asm]
      - [0x77C50, asm]
      - [0x78050, asm]
      - [0x79F50, asm]
      - [0x7AED0, asm]
      - [0x7AF10, asm]
      - [0x7B870, asm]
      - [0x80240, asm]
      - [0x80500, asm]
      - [0x9F8F0, asm]
      - [0xABDF0, asm]
      - [0xAEE70, asm]
      - [0xB8910, asm]
      - [0xB8920, asm]
      - [0xC35F0, asm]
      - [0xC4800, asm]
      - [0xC74C0, asm]
      - [0xC7F40, asm]
      - [0xC7F50, asm]
      - [0xC8160, asm]
      - [0xC81A0, asm]
      - [0xC83F0, asm]
      - [0xC8450, asm]
      - [0xC8490, c, libultra/alCSPGetTempo]
      - [0xC84D0, hasm, libultra/osGetCount]
      - [0xC84E0, asm]
      - [0xC8540, asm]
      - [0xC85A0, asm]
      - [0xC85C0, asm]
      - [0xC85E0, asm]
      - [0xC8650, asm]
      - [0xC8660, asm]
      - [0xC86A0, asm]
      - [0xC9160, asm]
      - [0xC91A0, asm]
      - [0xC9450, asm]
      - [0xC95A0, asm]
      - [0xC98F0, asm]
      - [0xC9970, asm]
      - [0xC9A20, asm]
      - [0xC9A30, asm]
      - [0xC9B80, asm]
      - [0xC9C90, c, libultra/al_event]
      - [0xC9FD0, c, libultra/al_synaddplayer]
      - [0xCA020, c, libultra/al_synalloccvoice]
      - [0xCA250, c, libultra/al_alSynSetVol]
      - [0xCA2F0, c, libultra/al_alSynStartVoice]
      - [0xCA380, c, libultra/al_alSynSetPitch]
      - [0xCA410, c, libultra/al_alSynSetFXMix]
      - [0xCA4B0, c, libultra/al_alSynStopVoice]
      - [0xCA530, c, libultra/al_synfreevoice]
      - [0xCA5E0, c, libultra/al_cents2ratio]
      - [0xCA630, hasm, libultra/osSetIntMask]
      - [0xCA6D0, hasm, libultra/sqrtf]
      - [0xCA6E0, c, libultra/al_alSynSetPriority]
      - [0xCA6F0, asm] #0x40 bytes of zeroes
      - [0xCA730, c, libultra/llcvt]
      - [0xCA940, c, libultra/rmonPrintf]
      - [0xCA9A0, hasm, libultra/_bcopy]
      - [0xCACB0, c, libultra/al_filter]
      - [0xCACD0, c, libultra/al_env]
      - [0xCC140, c, libultra/al_load]
      - [0xCCC90, c, libultra/al_resample]
      - [0xCCF90, c, libultra/al_mainbus]
      - [0xCD0E0, c, libultra/al_save]
      - [0xCD1A0, c, libultra/osInitialize]
      - [0xCD440, c, libultra/osSetThreadPri]
      - [0xCD520, c, libultra/guPerspectiveF]
      - [0xCD7B0, c, libultra/osSetEventMesg]
      - [0xCD820, c, libultra/controller]
      - [0xCDBE0, c, libultra/contreaddata]
      - [0xCDE40, c, libultra/osSpSetStatus]
      - [0xCDE50, c, libultra/osDpSetStatus]
      - [0xCDE60, c, libultra/osSetTime]
      - [0xCDE90, c, libultra/osPfsIsPlug]
      - [0xCE200, c, libultra/siacs]
      - [0xCE2C0, c, libultra/__osSiRawStartDma]
      - [0xCE370, c, libultra/crc]
      - [0xCE4F0, c, libultra/contramwrite]
      - [0xCE8A0, c, libultra/contramread]
      - [0xCEC50, c, libultra/_bcmp]
      - [0xCED70, c, libultra/string]
      - [0xCEE10, c, libultra/osEepromProbe]
      - [0xCEE80, c, libultra/osEepromRead]
      - [0xCF180, c, libultra/osEEpromWrite]
      - [0xCF660, c, libultra/ll]
      - [0xCF920, c, libultra/osPfsInit]
      - [0xCFAE0, c, libultra/pfsreadwritefile]
      - [0xCFFE0, c, libultra/osPfsFreeBlocks]
      - [0xD0130, c, libultra/osPfsChecker]
      - [0xD0B90, c, libultra/osPfsReFormat]
      - [0xD0F90, c, libultra/osPfsNumFiles]
      - [0xD10E0, hasm, libultra/_blkclr]
      - [0xD1180, asm, libultra/osPfsFileState]
      - [0xD1470, c, libultra/osPfsDeleteFile]
      - [0xD1A80, c, libultra/osPfsFindFile]
      - [0xD1C40, c, libultra/pfsallocatefile]
      - [0xD23F0, hasm, libultra/osInvalDCache]
      - [0xD24A0, hasm, libultra/osWritebackDCacheAll]
      - [0xD24D0, c, libultra/osDpGetStatus]
      - [0xD24E0, c, libultra/osDpSetNextBuffer]
      - [0xD2590, c, libultra/osViMgr]
      - [0xD28A0, c, libultra/osViSetMode]
      - [0xD2910, c, libultra/osViBlack]
      - [0xD2980, c, libultra/osViSetEvent]
      - [0xD29F0, c, libultra/osSpTaskYielded]
      - [0xD2A70, c, libultra/osViGetCurrentFramebuffer]
      - [0xD2AB0, c, libultra/osViGetNextFramebuffer]
      - [0xD2AF0, c, libultra/sptask]
      - [0xD2DB0, c, libultra/osGetTime]
      - [0xD2E40, c, libultra/osSpTaskYield]
      - [0xD2E60, c, libultra/osViSetSpecialFeatures]
      - [0xD3020, c, libultra/osViSwapBuffer]
      - [0xD3070, c, libultra/__osGetActiveQueue]
      - [0xD3080, c, libultra/piacs]
      - [0xD3140, c, libultra/osGetThreadPri]
      - [0xD3160, hasm, libultra/__osDisableInt]
      - [0xD3180, hasm, libultra/__osRestoreInt]
      - [0xD31A0, c, libultra/osPiRawStartDma]
      - [0xD3280, c, libultra/osEPiRawStartDma]
      - [0xD3360, c, libultra/devmgr]
      - [0xD3710, c, libultra/vi]
      - [0xD3860, c, libultra/alSynDelete]
      - [0xD3870, c, libultra/thread]
      - [0xD38B0, hasm, libultra/exception]
      - [0xD4270, c, libultra/__osAiDeviceBusy]
      - [0xD42A0, c, libultra/osJamMesg]
      - [0xD43F0, c, libultra/osPiGetCmdQueue]
      - [0xD4420, c, libultra/alCopy]
      - [0xD44A0, c, libultra/xprintf]
      - [0xD5160, hasm, libultra/__osSetSR]
      - [0xD5170, hasm, libultra/__osGetSR]
      - [0xD5180, hasm, libultra/__osSetFpcCsr]
      - [0xD5190, c, libultra/__osSiRawReadIo]
      - [0xD51E0, c, libultra/__osSiRawWriteIo]
      - [0xD5230, hasm, libultra/osWritebackDCache]
      - [0xD52B0, hasm, libultra/osInvalICache]
      - [0xD5330, c, libultra/osMapTLBRdb]
      - [0xD5390, c, libultra/osPiRawReadIo]
      - [0xD53F0, c, libultra/__osSetHWIntrRoutine]
      - [0xD5440, c, libultra/guMtxUtil]
      - [0xD56B0, c, libultra/cosf]
      - [0xD5820, c, libultra/osTimer]
      - [0xD5AC0, c, libultra/si]
      - [0xD5EF0, c, libultra/contpfs]
      - [0xD6C50, c, libultra/__osDpDeviceBusy]
      - [0xD6C80, c, libultra/__osViGetCurrentContext]
      - [0xD6C90, c, libultra/__osViSwapContext]
      - [0xD6FF0, c, libultra/__osSpGetStatus]
      - [0xD7000, c, libultra/__osSpSetPc]
      - [0xD7040, c, libultra/__osSpRawStartDma]
      - [0xD70D0, c, libultra/__osSpDeviceBusy]
      - [0xD7100, c, libultra/__osResetGlobalIntMask]
      - [0xD7160, c, libultra/osEPiRawWriteIo]
      - [0xD71B0, c, libultra/osYieldThread]
      - [0xD7200, c, libultra/osDestroyThread]
      - [0xD7300, c, libultra/xlitob]
      - [0xD75A0, c, libultra/xldtob]
      - [0xD8060, hasm, libultra/__osSetCompare]
      - [0xD8070, hasm, libultra/lldiv]
      - [0xD8170, hasm, libultra/ldiv]
      - [0xD8200, bin, ucode_audio]
      - [0xD90C0, bin, ucode_boot] # + 0xEC0
      - [0xD9190, bin, ucode_f3ddkr_dram] # + 0xD0
      - [0xDA390, bin, ucode_f3ddkr_fifo] # + 0x1200
      - [0xDB570, bin, ucode_f3ddkr_xbus] # + 0x11E0
      - [0xDC770, bin, ucode_unknown_2] # + 0x1200
      - [0xDD230, data] # + 0xAC0
      - { start: 0xECB60, type: bss, vram: 0x800EBF60 }

  - type: bin
    start: 0xECB60
    follows_vram: main
  - [0xC00000]
