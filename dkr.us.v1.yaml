name: Diddy Kong Racing (North America)
sha1: 0cb115d8716dbbc2922fda38e533b9fe63bb9670
options:
  basename: dkr.us.v1
  target_path: baserom.us.v1.z64
  base_path: .
  compiler: IDO
  find_file_boundaries: True
  header_encoding: ASCII
  platform: n64
  undefined_funcs_auto_path: undefined_funcs_auto.us.v1.txt
  undefined_syms_auto_path: undefined_syms_auto.us.v1.txt
  symbol_addrs_path: symbol_addrs.us.v1.txt
  asm_path: asm
  src_path: src
  build_path: build
  asset_path: assets
  #extensions_path: tools/splat_ext
  #mips_abi_float_regs: o32
  section_order: [".text", ".data", ".rodata", ".bss"]
  auto_all_sections: [".data", ".rodata", ".bss"]
  symbol_name_format: $VRAM_$ROM
  #libultra_symbols: True
  #hardware_regs: True
segments:
  - name: header
    type: header
    start: 0x0

  - name: boot
    type: bin
    start: 0x40

  - name: entry
    type: code
    start: 0x1000
    vram: 0x80000400
    subsegments:
      - [0x1000, hasm, entrypoint]

  - name: main
    type: code
    start: 0x1050
    vram: 0x80000450
    follows_vram: entry
    bss_size: 0x41490
    subsegments:
      - [0x1050, c, audio]
      - [0x3260, c, audiomgr]
      - [0x3D60, c, audiosfx]
      - [0x5740, c, unknown_005740]
      - [0x8C40, c, unknown_008C40]
      - [0xB310, c, libultra/mips1_seqplayer]
      - [0xBC20, c, objects]
      - [0x251F0, hasm, unknown_0251F0]
      - [0x255E0, c, unknown_0255E0]
      - [0x31D30, hasm, collision]
      - [0x32760, c, unknown_032760]
      - [0x348C0, c, object_functions]
      - [0x43920, c, racer]
      - [0x5CEF0, c, vehicle_tricky]
      - [0x5DCD0, c, vehicle_bluey]
      - [0x5E420, c, vehicle_smokey]
      - [0x5F0C0, c, vehicle_bubbler]
      - [0x5F690, c, vehicle_wizpig]
      - [0x5FF10, c, vehicle_rocket]
      - [0x60450, c, object_models]
      - [0x62930, hasm, unknown_062930]
      - [0x62E90, c, libultra/mips1_al_csplayer]
      - [0x64690, c, libultra/mips1_al_unknown_064690]
      - [0x646F0, c, libultra/mips1_al_unknown_0646F0]
      - [0x647A0, c, libultra/mips1_al_unknown_0647A0]
      - [0x64800, c, libultra/mips1_al_unknown_064800]
      - [0x64830, c, libultra/mips1_al_reverb]
      - [0x65550, c, libultra/mips1_al_alFxNew]
      - [0x65D30, c, libultra/mips1_al_synthesizer]
      - [0x66460, c, libultra/mips1_al_alSynAllocFX]
      - [0x66500, c, libultra/mips1_al_alAuxBusPull]
      - [0x66720, c, libultra/mips1_al_alSynSetPan]
      - [0x667D0, c, libultra/mips1_al_alSynStartVoiceParams]
      - [0x66940, c, main]
      - [0x66AA0, c, camera]
      - [0x6AD00, c, controller]
      - [0x6B2B0, c, game]
      - [0x70110, hasm, math_util]
      - [0x71730, c, memory]
      - [0x72930, c, libultra/osMotor]
      - [0x72E50, c, save_data]
      - [0x777A0, c, asset_loading]
      - [0x77C50, c, borders]
      - [0x78050, c, unknown_078050]
      - [0x79F50, c, libultra/mips1_sched]
      - [0x7AED0, c, set_rsp_segment]
      - [0x7AF10, c, video]
      - [0x7B870, c, textures_sprites]
      - [0x80240, c, screen_asset]
      - [0x80500, c, menu]
      - [0x9F8F0, c, game_ui]
      - [0xABDF0, c, weather]
      - [0xAEE70, c, particles]
      - [0xB5540, c, printf]
      - [0xB7B30, c, unknown_B7B30]
      - [0xB7B40, c, assert_stub]
      - [0xB7B50, c, thread0_epc]
      - [0xB8910, hasm, get_stack_pointer]
      - [0xB8920, c, waves]
      - [0xC0D70, c, fade_transition]
      - [0xC35F0, c, gametext]
      - [0xC4800, c, font]
      - [0xC6C00, c, libultra/osCreatePiManager]
      - [0xC6D70, c, gzip]
      - [0xC74C0, hasm, gzip]
      - [0xC7F40, c, libultra/__osLeoInterrupt]
      - [0xC7F50, c, thread30_track_loading]
      - [0xC8160, c, libultra/al_alHeapInit]
      - [0xC81A0, c, libultra/al_alBnkfNew]
      - [0xC83F0, c, libultra/al_alHeapDBAlloc]
      - [0xC8450, c, libultra/al_alCSPSetVol]
      - [0xC8490, c, libultra/al_alCSPGetTempo]
      - [0xC84D0, hasm, libultra/osGetCount]
      - [0xC84E0, c, libultra/al_alCSPSetChlPan]
      - [0xC8540, c, libultra/al_alCSPSetChlVol]
      - [0xC85A0, c, libultra/al_alCSPGetChlVol]
      - [0xC85C0, c, libultra/al_alSeqpGetChlFXMix]
      - [0xC85E0, c, libultra/al_alCSPSetTempo]
      - [0xC8650, c, libultra/al_alCSPGetState]
      - [0xC8660, c, libultra/al_alCSPSetBank]
      - [0xC86A0, c, libultra/al_cseq]
      - [0xC9160, c, libultra/al_alCSPSetSeq]
      - [0xC91A0, c, libultra/al_cspplay]
      - [0xC91D0, c, libultra/al_cspstop]
      - [0xC9200, c, libultra/osAiSetFrequency]
      - [0xC9360, c, libultra/al_sl]
      - [0xC9420, c, libultra/osCreateMesgQueue]
      - [0xC9450, c, libultra/osCreateThread]
      - [0xC95A0, c, libultra/osStartThread]
      - [0xC96F0, c, libultra/osStopThread]
      - [0xC97B0, c, libultra/osRecvMesg]
      - [0xC98F0, c, libultra/osVirtualToPhysical]
      - [0xC9970, c, libultra/osAiSetNextBuffer]
      - [0xC9A20, c, libultra/osAiGetLength]
      - [0xC9A30, c, libultra/osSendMesg]
      - [0xC9B80, c, libultra/osPiStartDma]
      - [0xC9C90, c, libultra/al_event]
      - [0xC9FD0, c, libultra/al_synaddplayer]
      - [0xCA020, c, libultra/al_synalloccvoice]
      - [0xCA250, c, libultra/al_alSynSetVol]
      - [0xCA2F0, c, libultra/al_alSynStartVoice]
      - [0xCA380, c, libultra/al_alSynSetPitch]
      - [0xCA410, c, libultra/al_alSynSetFXMix]
      - [0xCA4B0, c, libultra/al_alSynStopVoice]
      - [0xCA530, c, libultra/al_synfreevoice]
      - [0xCA5E0, c, libultra/al_cents2ratio]
      - [0xCA630, hasm, libultra/osSetIntMask]
      - [0xCA6D0, hasm, libultra/sqrtf]
      - [0xCA6E0, c, libultra/al_alSynSetPriority]
      - [0xCA6F0, asm] #0x40 bytes of zeroes
      - [0xCA730, c, libultra/llcvt]
      - [0xCA940, c, libultra/rmonPrintf]
      - [0xCA9A0, hasm, libultra/_bcopy]
      - [0xCACB0, c, libultra/al_filter]
      - [0xCACD0, c, libultra/al_env]
      - [0xCC140, c, libultra/al_load]
      - [0xCCC90, c, libultra/al_resample]
      - [0xCCF90, c, libultra/al_mainbus]
      - [0xCD0E0, c, libultra/al_save]
      - [0xCD1A0, c, libultra/osInitialize]
      - [0xCD440, c, libultra/osSetThreadPri]
      - [0xCD520, c, libultra/guPerspectiveF]
      - [0xCD7B0, c, libultra/osSetEventMesg]
      - [0xCD820, c, libultra/controller]
      - [0xCDBE0, c, libultra/contreaddata]
      - [0xCDE40, c, libultra/osSpSetStatus]
      - [0xCDE50, c, libultra/osDpSetStatus]
      - [0xCDE60, c, libultra/osSetTime]
      - [0xCDE90, c, libultra/osPfsIsPlug]
      - [0xCE200, c, libultra/siacs]
      - [0xCE2C0, c, libultra/__osSiRawStartDma]
      - [0xCE370, c, libultra/crc]
      - [0xCE4F0, c, libultra/contramwrite]
      - [0xCE8A0, c, libultra/contramread]
      - [0xCEC50, c, libultra/_bcmp]
      - [0xCED70, c, libultra/string]
      - [0xCEE10, c, libultra/osEepromProbe]
      - [0xCEE80, c, libultra/osEepromRead]
      - [0xCF180, c, libultra/osEEpromWrite]
      - [0xCF660, c, libultra/ll]
      - [0xCF920, c, libultra/osPfsInit]
      - [0xCFAE0, c, libultra/pfsreadwritefile]
      - [0xCFFE0, c, libultra/osPfsFreeBlocks]
      - [0xD0130, c, libultra/osPfsChecker]
      - [0xD0B90, c, libultra/osPfsReFormat]
      - [0xD0F90, c, libultra/osPfsNumFiles]
      - [0xD10E0, hasm, libultra/_blkclr]
      - [0xD1180, asm, libultra/osPfsFileState]
      - [0xD1470, c, libultra/osPfsDeleteFile]
      - [0xD1A80, c, libultra/osPfsFindFile]
      - [0xD1C40, c, libultra/pfsallocatefile]
      - [0xD23F0, hasm, libultra/osInvalDCache]
      - [0xD24A0, hasm, libultra/osWritebackDCacheAll]
      - [0xD24D0, c, libultra/osDpGetStatus]
      - [0xD24E0, c, libultra/osDpSetNextBuffer]
      - [0xD2590, c, libultra/osViMgr]
      - [0xD28A0, c, libultra/osViSetMode]
      - [0xD2910, c, libultra/osViBlack]
      - [0xD2980, c, libultra/osViSetEvent]
      - [0xD29F0, c, libultra/osSpTaskYielded]
      - [0xD2A70, c, libultra/osViGetCurrentFramebuffer]
      - [0xD2AB0, c, libultra/osViGetNextFramebuffer]
      - [0xD2AF0, c, libultra/sptask]
      - [0xD2DB0, c, libultra/osGetTime]
      - [0xD2E40, c, libultra/osSpTaskYield]
      - [0xD2E60, c, libultra/osViSetSpecialFeatures]
      - [0xD3020, c, libultra/osViSwapBuffer]
      - [0xD3070, c, libultra/__osGetActiveQueue]
      - [0xD3080, c, libultra/piacs]
      - [0xD3140, c, libultra/osGetThreadPri]
      - [0xD3160, hasm, libultra/__osDisableInt]
      - [0xD3180, hasm, libultra/__osRestoreInt]
      - [0xD31A0, c, libultra/osPiRawStartDma]
      - [0xD3280, c, libultra/osEPiRawStartDma]
      - [0xD3360, c, libultra/devmgr]
      - [0xD3710, c, libultra/vi]
      - [0xD3860, c, libultra/alSynDelete]
      - [0xD3870, c, libultra/thread]
      - [0xD38B0, hasm, libultra/exception]
      - [0xD4270, c, libultra/__osAiDeviceBusy]
      - [0xD42A0, c, libultra/osJamMesg]
      - [0xD43F0, c, libultra/osPiGetCmdQueue]
      - [0xD4420, c, libultra/alCopy]
      - [0xD44A0, c, libultra/xprintf]
      - [0xD5160, hasm, libultra/__osSetSR]
      - [0xD5170, hasm, libultra/__osGetSR]
      - [0xD5180, hasm, libultra/__osSetFpcCsr]
      - [0xD5190, c, libultra/__osSiRawReadIo]
      - [0xD51E0, c, libultra/__osSiRawWriteIo]
      - [0xD5230, hasm, libultra/osWritebackDCache]
      - [0xD52B0, hasm, libultra/osInvalICache]
      - [0xD5330, c, libultra/osMapTLBRdb]
      - [0xD5390, c, libultra/osPiRawReadIo]
      - [0xD53F0, c, libultra/__osSetHWIntrRoutine]
      - [0xD5440, c, libultra/guMtxUtil]
      - [0xD56B0, c, libultra/cosf]
      - [0xD5820, c, libultra/osTimer]
      - [0xD5AC0, c, libultra/si]
      - [0xD5EF0, c, libultra/contpfs]
      - [0xD6C50, c, libultra/__osDpDeviceBusy]
      - [0xD6C80, c, libultra/__osViGetCurrentContext]
      - [0xD6C90, c, libultra/__osViSwapContext]
      - [0xD6FF0, c, libultra/__osSpGetStatus]
      - [0xD7000, c, libultra/__osSpSetPc]
      - [0xD7040, c, libultra/__osSpRawStartDma]
      - [0xD70D0, c, libultra/__osSpDeviceBusy]
      - [0xD7100, c, libultra/__osResetGlobalIntMask]
      - [0xD7160, c, libultra/osEPiRawWriteIo]
      - [0xD71B0, c, libultra/osYieldThread]
      - [0xD7200, c, libultra/osDestroyThread]
      - [0xD7300, c, libultra/xlitob]
      - [0xD75A0, c, libultra/xldtob]
      - [0xD8060, hasm, libultra/__osSetCompare]
      - [0xD8070, hasm, libultra/lldiv]
      - [0xD8170, hasm, libultra/ldiv]
      - [0xD8200, bin, ucode_audio]
      - [0xD90C0, bin, ucode_boot] # + 0xEC0
      - [0xD9190, bin, ucode_f3ddkr_dram] # + 0xD0
      - [0xDA390, bin, ucode_f3ddkr_fifo] # + 0x1200
      - [0xDB570, bin, ucode_f3ddkr_xbus] # + 0x11E0
      - [0xDC770, bin, ucode_unknown_2] # + 0x1200
      - [0xDD230, data, audio] # + 0xAC0
      - [0xDD280, data, audiomgr]
      - [0xDD2B0, data, audiosfx]
      - [0xDD2D0, data, unknown_005740]
      - [0xDD2E0, data, unknown_008C40]
      - [0xDD2F0, data, objects]
      - [0xDD470, data, unknown_0255E0]
      - [0xDD550, data, unknown_032760]
      - [0xDD570, data, object_functions]
      - [0xDD750, data, racer]
      - [0xDD9E0, data, vehicle_tricky]
      - [0xDDA00, data, vehicle_bluey]
      - [0xDDA40, data, vehicle_bubbler]
      - [0xDDA60, data, vehicle_wizpig]
      - [0xDDA80, data, vehicle_rocket]
      - [0xDDAA0, data, object_models]
      - [0xDDAB0, data, libultra/mips1_al_reverb]
      - [0xDDAC0, data, libultra/mips1_al_alFxNew]
      - [0xDDC50, data, libultra/mips1_al_alSynStartVoiceParams]
      - [0xDDC60, data, camera]
      - [0xDDF00, data, controller]
      - [0xDDF10, data, game]
      - [0xDE030, data, math_util]
      - [0xDF040, data, save_data]
      - [0xDF090, data, unknown_078050]
      - [0xDF330, data, libultra/mips1_sched]
      - [0xDF370, data, video]
      - [0xDF3C0, data, textures_sprites]
      - [0xE0040, data, screen_asset]
      - [0xE0050, data, menu]
      - [0xE2A60, data, game_ui]
      - [0xE3450, data, weather]
      - [0xE38A0, data, particles]
      - [0xE3AF0, data, printf]
      - [0xE3C20, data, thread0_epc]
      - [0xE3C40, data, waves]
      - [0xE3DA0, data, fade_transition]
      - [0xE4270, data, game_text]
      - [0xE4290, data, font]
      - [0xE4360, data, gzip]
      - [0xE4370, data, thread30_track_loading]
      - [0xE4380, data, libultra/al_sl]
      - [0xE4390, data, libultra/osAiSetNextBuffer]
      - [0xE43A0, data, libultra/al_env]
      - [0xE44A0, data, libultra/osInitialize]
      - [0xE44C0, data, libultra/controller]
      - [0xE44D0, data, libultra/siacs]
      - [0xE44E0, data, libultra/osViMgr]
      - [0xE4500, data, libultra/vitbl]
      - [0xE5410, data, libultra/osSpTaskYielded]
      - [0xE5480, data, libultra/__osViSwapContext]
      - [0xE54A0, data, libultra/exception] #alCopy in main DKR repo, but exceptasm in ultralib
      - [0xE54C0, data, libultra/xprintf]
      - [0xE5510, data, libultra/osTimer]
      - [0xE5520, data]
      - { start: 0xECB60, type: bss, vram: 0x800EBF60 }

  - type: bin
    start: 0xECB60
    follows_vram: main
  - [0xC00000]
